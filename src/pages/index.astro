---
import Layout from '@/layouts/default/index.astro';
import banner from '@/assets/images/banner_bg.jpg';
import { Icon } from 'astro-icon/components';
import DownloadBanner from '@/components/sections/DownloadBanner.astro';
import RecentPosts from '@/components/sections/RecentPosts.astro';
import Devices from '@/components/sections/Devices.astro';
---

<head>
	<meta charset="UTF-8" />
	<title>Kagami Studio 支持</title>
	<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
	<meta name="viewport" content="width=device-width" />
</head>

<Layout>
	<div class="index-container" >
		<div class="search-banner">
			<img class="banner-img" src={banner.src} alt="banner" />
			<div class="banner-content">
				<h1>欢迎访问 Kagami Studio 支持</h1>
				<div class="search-box">
					<Icon name="solar:magnifer-linear" class="icon" />
					<form action="/search" method="get">
						<input type="text" placeholder="搜索帮助内容（例：Pure64）" name="q" />
					</form>
				</div>
			</div>
		</div>
		<DownloadBanner />
		<RecentPosts />
		<Devices />
	</div>
</Layout>

<style>
	.index-container {
		width: 100%;
		min-height: 60vh;
	}
	.search-banner {
		width: 100%;
		height: 320px;
		position: relative;
		display: flex;
		align-items: center;
		justify-content: center;
		overflow: hidden;
	}
	.banner-img {
		position: absolute;
		left: 0;
		top: 0;
		width: 100%;
		height: 100%;
		object-fit: cover;
		z-index: 1;
		filter: brightness(0.5);
	}
	.banner-content {
		position: relative;
		z-index: 2;
		text-align: center;
		color: #fff;
		width: 100%;
		max-width: 700px;
		margin: 0 auto;
	}
	.banner-content h1 {
		font-size: 2.6rem;
		font-weight: bold;
		margin-bottom: 32px;
		text-shadow: 0 2px 8px rgba(0,0,0,0.18);
	}
	.search-box {
		display: flex;
		align-items: center;
		background: rgba(255,255,255,0.95);
		border-radius: 32px;
		padding: 0 24px;
		height: 56px;
		box-shadow: 0 2px 12px rgba(0,0,0,0.08);
		max-width: 80vw;
		margin: 0 auto;
		position: relative;
	}
	.search-box .icon {
		font-size: 1.3rem;
		color: #888;
		margin-right: 12px;
	}
	.search-box form {
		width: 100%;
		height: 100%;
		display: flex;
		align-items: center;
		position: relative;
	}
	.search-box input {
		width: 100%;
		border: none;
		outline: none;
		background: transparent;
		font-size: 1.1rem;
		flex: 1;
		color: #333;
	}
	@media (max-width: 600px) {
		.search-banner {
			height: 200px;
		}
		.banner-content h1 {
			font-size: 1.3rem;
			margin-bottom: 18px;
		}
		.search-box {
			height: 40px;
			padding: 0 12px;
		}
		.search-box .icon {
			font-size: 1rem;
			margin-right: 6px;
		}
		.search-box input {
			font-size: 0.95rem;
		}
	}
</style>